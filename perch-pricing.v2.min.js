"use strict";(()=>{function e(e,t){let n=Array.from(e.querySelectorAll(`input[type='radio'][name='${t}']`)).find(e=>e.checked);return n?n.value:null}function t(e,t){return Array.from(e.querySelectorAll(t))}function n(e,t){return e.querySelector(t)}async function r(e){return new Promise(t=>setTimeout(t,e))}function i(e,t){return e.startsWith(t)?e.substring(t.length):e}function o(e,t){return e.toLowerCase()===t.toLowerCase()}function s(e){return`$${e.toLocaleString("en-US")}`}function a(e){let r=n(e,"[pp='plan-name']")?.innerText.trim()||"";if(!r)throw new Error("could not find plan name");let i=new Map;return t(e,"[data-pp-quantity]").forEach(e=>{let t=Number(e.getAttribute("data-pp-quantity")),n=Number(e.getAttribute("data-pp-price"));i.set(t,n)}),{planName:r,priceByQuantity:i}}function l(e,r){return t(e,"[pp='hardware-item']").filter(e=>{let t=e.querySelector("input[type='checkbox']");return t&&t.checked}).reduce((t,o)=>{let s=n(o,"cash"===r?"[pp='hardware-price-cash']":"[pp='hardware-price-haas']")?.innerText.trim()||"",a=Number(i(s,"$").trim().replace(/,/g,""));return t+a},0)}const c="Professional",u=10,d="United States (US)",p="selection-null",f="pp",h="cc-highlighted",m="cc-active",y=e=>`[${f}='${e}']`,g=n(document.body,y("section-1")),v=n(document.body,y("section-2")),b=n(document.body,y("preloader")),w=n(document.body,y("quantity-counter")),S=t(v,y("quantity-counter-button")),q=t(v,y("quantity-display")),E=t(v,y("selected-plan-display")),C=t(v,y("plan-card-wrapper")),k=C.flatMap(e=>t(e,"input[type='radio']")),L=n(g,y("email-source")),T=n(v,y("email-target")),P=n(v,y("pricing-quote-tabs")),A=v.querySelector(y("cash-upfront-cost")),N=v.querySelector(y("cash-recurring-annual-cost")),_=v.querySelector(y("cash-year-1-total")),x=v.querySelector(y("grand-total-cost-cash")),j=v.querySelector(y("haas-recurring-annual-cost")),O=v.querySelector(y("grand-total-cost-haas")),D=document.querySelectorAll('[pp="custom-pricing-tag"]');D.forEach(e=>{e.style.display="none"});const H=t(v,y("cost-summary-wrap")),I=document.querySelectorAll('[pp="custom-pricing-tooltip-quantity"]');I.forEach(e=>{e.style.display="none"});const M=document.querySelectorAll('[pp="custom-pricing-tooltip-plan"'),R=n(g,y("country-select")),U=n(g,y("us-state-select")),B=n(g,y("use-select"));function F(e){let t=document.querySelectorAll('button[data-form="next-btn"]')[e];t&&(t.style.pointerEvents="none",t.style.opacity="0.5",t.classList.add("disabled"))}function $(){let e=document.querySelector('[data-submit="true"]');e&&(e.style.pointerEvents="none",e.style.opacity="0.5",e.classList.add("disabled"))}function W(e){let t=document.querySelectorAll('button[data-form="next-btn"]')[e];t&&(t.style.pointerEvents="auto",t.style.opacity="1",t.classList.remove("disabled"))}function z(){let e=document.querySelector('[data-submit="true"]');e&&(e.style.pointerEvents="auto",e.style.opacity="1",e.classList.remove("disabled"))}function G(e){C.forEach(e=>{const t=e.querySelector(".pricing_tier_select_tag");t&&t.classList.remove(h,m),e.querySelectorAll(".pricing_tier_top, .pricing_tier_middle, .pricing_tier_bottom").forEach(e=>{e.classList.remove(h,m)})});const t=e.querySelector(".pricing_tier_select_tag");t&&t.classList.add(h,m),e.querySelectorAll(".pricing_tier_top, .pricing_tier_middle, .pricing_tier_bottom").forEach(e=>{e.classList.add(h,m)})}function J(){if(!P)return;let t=e(v,"desired_subscription_plans");if("Standard"!==t)return void K("plan");let n=Number(q[0].innerText);if(n>u)return void K("quantity");Q();let r=document.querySelector(`input[type='radio'][value='${t}']`).closest(y("plan-card-wrapper"));if(!r)throw new Error("no selected plan card wrapper");let i=l(v,"haas")*n,o=l(v,"cash")*n,c=a(r).priceByQuantity.get(n);if(!c)throw new Error("no software cost found");let d=c+i,p=c+o;if(d>15e3||p>15e3)return void K("quantity");A&&(A.innerText=""),N&&(N.innerText=""),_&&(_.innerText=""),x&&(x.innerText=""),j&&(j.innerText=s(c+i)),O&&(O.innerText=s(c+i))}function K(e){H.forEach(e=>e.style.display="none"),D.forEach(e=>{e.style.display="flex"}),V(),"plan"===e?(M.forEach(e=>{e.style.display="block"}),I.forEach(e=>{e.style.display="none"})):"quantity"===e&&(M.forEach(e=>{e.style.display="none"}),I.forEach(e=>{e.style.display="block"}))}function Q(){H.forEach(e=>e.style.display="block"),D.forEach(e=>{e.style.display="none"})}function V(){A&&(A.innerText=""),N&&(N.innerText=""),_&&(_.innerText=""),x&&(x.innerText=""),j&&(j.innerText=""),O&&(O.innerText="")}function X(){let e=document.getElementById("quote");e.scrollIntoView({behavior:"smooth",block:"start"})}console.log(B),R.value=d,U.value="Alabama",$(),R.addEventListener("change",()=>{R.value===d?U.style.display="block":U.style.display="none",R.value==p?F(1):R.value===d&&U.value==p?F(1):W(1)}),U.addEventListener("change",()=>{R.value===d&&U.value==p?F():R.value===d&&U.value!=p&&W()}),B.addEventListener("change",()=>{B.value===p?$():z()}),t(v,"[fs-accordion-element='content']").forEach(async e=>{await r(500);let t=e.closest("[fs-accordion-element='group']"),n=t?.getAttribute("fs-accordion-active");n&&e.classList.contains(n)&&(e.style.maxHeight="none")}),location.search.includes("show-both-forms")||(v.style.display="none"),g.addEventListener("submit",async e=>{e.preventDefault(),b.style.display="flex",g.style.display="none",v.style.display="block",V(),window.scrollTo(0,0),await r(2500),b.style.display="none",T.value=L.value});const Y=t(v,".c-toggle__button");Y.forEach(e=>{e.addEventListener("click",r=>{if(e.hasAttribute("readonly"))return void r.preventDefault();let i=e.closest(y("hardware-item")),s=i?.querySelector(y("hardware-name")),a=s?.innerText||"",l=i.querySelector(".c-toggle__text");e.checked?l.classList.add("cc-active"):l.classList.remove("cc-active"),t(v,y("pricing-hardware-item")).filter(e=>{let t=e.querySelector(y("hardware-name"))?.innerHTML||"";return o(t,a)}).forEach(t=>{e.checked?t.classList.add("cc-active"):t.classList.remove("cc-active")})})}),S.forEach(e=>{e.addEventListener("click",async()=>{await r(0);let e=w.value;q.forEach(t=>t.innerText=e),J()})}),k.forEach(e=>{let t=e.closest(y("plan-card-wrapper"));t&&(e.value===c&&(e.checked=!0,G(t),E.forEach(t=>t.innerText=e.value)),e.addEventListener("change",()=>{G(t),E.forEach(t=>t.innerText=e.value),X()}))}),Y.forEach(e=>{e.addEventListener("click",J)}),k.forEach(e=>{e.addEventListener("change",J)}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".faq_wrap");0!==e.length&&e.forEach(e=>{const t=e.querySelectorAll(".faq_item");if(t.length>0){let e=t[0],n=e.querySelector('input[type="radio"]');n&&(n.checked=!0)}})})})();
